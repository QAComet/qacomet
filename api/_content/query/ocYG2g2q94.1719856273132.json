{"_path":"/case-studies/medusa","_dir":"case-studies","_draft":false,"_partial":false,"_locale":"","title":"Medusa","description":"","subtitle":"Levelling up their Next.JS Ecommerce Template into a Developer Powerhouse","breadcrumbs":[{"name":"Case Studies","path":"/case-studies/"},{"name":"Medusa","path":"/case-studies/medusa/"}],"link":"/case-studies/medusa/","created":{"string":"June 27, 2024","valueOf":1719468000000,"month":"June","day":27,"year":2024},"shortDescription":"Recently we worked with the healess ecommerce platform Medusa. We upgraded their Next.JS ecommerce template to have a full E2E testing suite with a robust Github CI workflow.","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"enhancing-medusas-nextjs-ecommerce-template-a-case-study"},"children":[{"type":"text","value":"Enhancing Medusa's Next.JS Ecommerce Template: A Case Study"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We recently collaborated with the headless ecommerce platform, "},{"type":"element","tag":"a","props":{"href":"https://medusajs.com","rel":["nofollow"]},"children":[{"type":"text","value":"Medusa"}]},{"type":"text","value":", implementing a comprehensive End-to-End (E2E) testing suite, integrated with a new Github CI workflow, for their "},{"type":"element","tag":"a","props":{"href":"https://medusajs.com/nextjs-commerce/","rel":["nofollow"]},"children":[{"type":"text","value":"Next.js template"}]},{"type":"text","value":". This suite, spanning over "},{"type":"element","tag":"a","props":{"href":"https://github.com/medusajs/nextjs-starter-medusa/graphs/contributors","rel":["nofollow"]},"children":[{"type":"text","value":"7,000 lines of code"}]},{"type":"text","value":" and covering over a dozen webpages, has significantly improved the reliability of core workflows for any ecommerce site using their template. In the process, we identified and rectified several bugs, enhancing the overall user experience."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ecommerce is a complex domain where even minor "},{"type":"element","tag":"a","props":{"href":"https://stripe.com/resources/more/how-to-increase-checkout-conversion#1-simplify-the-process","rel":["nofollow"]},"children":[{"type":"text","value":"UX improvements"}]},{"type":"text","value":" can significantly boost revenue. For instance, a renowned UX researcher once identified friction points in the checkout process of a $25 billion American retailer in 2009, leading to a 45% increase in sales, amounting to an additional $300 million. Identifying such friction points in the baseline template is crucial for Medusa's customers who base their businesses off this template."}]},{"type":"element","tag":"h2","props":{"id":"medusa-revolutionizing-ecommerce-with-modularity"},"children":[{"type":"text","value":"Medusa: Revolutionizing Ecommerce with Modularity"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://medusajs.com","rel":["nofollow"]},"children":[{"type":"text","value":"Medusa"}]},{"type":"text","value":", a rising star in the ecommerce space, offers an open-source ecommerce platform featuring a robust modular backend and admin system. Their clientele includes industry giants like "},{"type":"element","tag":"a","props":{"href":"https://medusajs.com/blog/mitsubishi/","rel":["nofollow"]},"children":[{"type":"text","value":"Mitsubishi"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://medusajs.com/blog/eki/","rel":["nofollow"]},"children":[{"type":"text","value":"EKI"}]},{"type":"text","value":", and "},{"type":"element","tag":"a","props":{"href":"https://medusajs.com/blog/makro-pro/","rel":["nofollow"]},"children":[{"type":"text","value":"Makro"}]},{"type":"text","value":". They also provide an open-source Next.js template for budding Ecommerce stores."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our collaboration with Medusa involved enhancing their "},{"type":"element","tag":"a","props":{"href":"https://medusajs.com/nextjs-commerce/","rel":["nofollow"]},"children":[{"type":"text","value":"Next.js ecommerce template"}]},{"type":"text","value":" by integrating a comprehensive E2E testing suite with a CI build script in Github Actions. We also identified and reported numerous bugs, thereby improving the overall functionality. Additionally, we provided detailed documentation for setting up the testing suite, facilitating a smoother onboarding process for future developers."}]},{"type":"element","tag":"h2","props":{"id":"developing-a-comprehensive-e2e-testing-suite"},"children":[{"type":"text","value":"Developing a Comprehensive E2E Testing Suite"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When we began, Medusa's ecommerce template had minimal testing—a simple 100-line test script built in Cypress covering only a handful of features. We decided to transition to Playwright due to its advantages and used it to build a comprehensive testing suite."}]},{"type":"element","tag":"h3","props":{"id":"our-strategy"},"children":[{"type":"text","value":"Our Strategy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our greenfield project allowed us to quickly establish a comprehensive testing suite. Leveraging our expertise in Playwright and a clear architectural vision for the testing suite, we first developed the testing boilerplate for the entire project. This included creating Page Object Models (POMs) for each page and modal, integrating them with the test runner, and preparing the main codebase with unique test ids for Playwright's test runner. This approach not only made our test suites resilient to changes in the codebase and design but also familiarized us with the project's architecture and components."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After setting up the base project and testing roadmap, we began testing each workflow critical to any ecommerce site. This ranged from basic workflows like registration and authentication to more complex customer journeys like product search, cart management, checkout, and order management. This comprehensive test suite has bolstered the confidence of Medusa developers in accepting future pull requests, as it helps prevent bugs and maintain the stability of key workflows."}]},{"type":"element","tag":"h2","props":{"id":"identifying-and-rectifying-bugs"},"children":[{"type":"text","value":"Identifying and Rectifying Bugs"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"During our journey of building the comprehensive E2E test suite, we encountered several broken functionalities and edge cases. By reporting and rectifying these bugs, we have reduced the technical issues for ecommerce sites basing their business off this project, thereby helping Medusa maintain its reputation as a technical leader for modern ecommerce stores."}]},{"type":"element","tag":"h3","props":{"id":"critical-bugs-identified"},"children":[{"type":"text","value":"Critical Bugs Identified"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Giftcard Application Issue"}]},{"type":"text","value":": We found a critical bug in "},{"type":"element","tag":"a","props":{"href":"https://github.com/medusajs/nextjs-starter-medusa/issues/312","rel":["nofollow"]},"children":[{"type":"text","value":"the checkout flow"}]},{"type":"text","value":" where a user could not complete the checkout if they applied a giftcard with no remaining balance. This issue was promptly fixed."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Address Syncing Inconsistencies"}]},{"type":"text","value":": We identified a "},{"type":"element","tag":"a","props":{"href":"https://github.com/medusajs/nextjs-starter-medusa/issues/275","rel":["nofollow"]},"children":[{"type":"text","value":"UX issue"}]},{"type":"text","value":" with managing addresses within a registered user's account. If a customer wanted to use their default billing address during checkout, they had to refill the form, as it wasn't automatically populated or available in a dropdown menu."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Logout Issue"}]},{"type":"text","value":": We discovered an "},{"type":"element","tag":"a","props":{"href":"https://github.com/medusajs/nextjs-starter-medusa/issues/295","rel":["nofollow"]},"children":[{"type":"text","value":"issue"}]},{"type":"text","value":" where logging out in certain cases returned a 404 page, causing confusion for users. This issue was resolved by using local state within the browser instead of storing state in a response header."}]}]},{"type":"element","tag":"h2","props":{"id":"streamlining-medusas-workflow-for-the-nextjs-template"},"children":[{"type":"text","value":"Streamlining Medusa's Workflow for the Next.js Template"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The final major contribution was the creation of a CI workflow with GitHub actions. Now, whenever a contributor submits a PR, the entire suite of tests is run, saving hours of manual labor and significantly increasing productivity."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"video","props":{"style":"max-width: 400px;","src":"/video/case-studies/medusa/e2e.mp4","controls":true,"controlsList":["nodownload"],"loop":true,"playsInline":true},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This automated testing layer, combined with our comprehensive test suite, provides thousands of lines of code worth of checks that would otherwise have to be done manually for every PR. This not only saves precious developer time but also ensures the stability and reliability of the platform."}]},{"type":"element","tag":"h2","props":{"id":"amplifying-medusas-business-impact-through-our-collaboration"},"children":[{"type":"text","value":"Amplifying Medusa’s Business Impact Through Our Collaboration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our partnership with Medusa has significantly enhanced the development workflow for their ecommerce template by adhering to best practices in testing. They now have robust assurances for future code modifications, redesigns, and other project changes. Moreover, as this is a template, ecommerce stores utilizing it can have stronger confidence that their modifications will function as expected. This leads to improved customer experiences for all the ecommerce brands involved, thereby amplifying Medusa’s business impact."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"enhancing-medusas-nextjs-ecommerce-template-a-case-study","depth":2,"text":"Enhancing Medusa's Next.JS Ecommerce Template: A Case Study"},{"id":"medusa-revolutionizing-ecommerce-with-modularity","depth":2,"text":"Medusa: Revolutionizing Ecommerce with Modularity"},{"id":"developing-a-comprehensive-e2e-testing-suite","depth":2,"text":"Developing a Comprehensive E2E Testing Suite","children":[{"id":"our-strategy","depth":3,"text":"Our Strategy"}]},{"id":"identifying-and-rectifying-bugs","depth":2,"text":"Identifying and Rectifying Bugs","children":[{"id":"critical-bugs-identified","depth":3,"text":"Critical Bugs Identified"}]},{"id":"streamlining-medusas-workflow-for-the-nextjs-template","depth":2,"text":"Streamlining Medusa's Workflow for the Next.js Template"},{"id":"amplifying-medusas-business-impact-through-our-collaboration","depth":2,"text":"Amplifying Medusa’s Business Impact Through Our Collaboration"}]}},"_type":"markdown","_id":"content:case-studies:medusa.md","_source":"content","_file":"case-studies/medusa.md","_extension":"md"}